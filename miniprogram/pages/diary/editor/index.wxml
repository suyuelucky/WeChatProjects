<!--æ—¥è®°ç¼–è¾‘é¡µé¢-->
<view class="editor-container">
  <view class="editor-header">
    <view class="date-section">
      <picker mode="date" value="{{date}}" bindchange="onDateChange">
        <view class="date-picker">
          <text class="date-text">{{dateFormatted}}</text>
          <text class="iconfont icon-calendar"></text>
        </view>
      </picker>
      <view class="weather-section" bindtap="chooseWeather">
        <text class="weather-icon">{{weatherIcon}}</text>
        <text class="weather-text">{{weather || 'é€‰æ‹©å¤©æ°”'}}</text>
      </view>
    </view>
    
    <view class="title-section">
      <input class="title-input" value="{{title}}" bindinput="onTitleInput" placeholder="æ ‡é¢˜" maxlength="50" />
    </view>
  </view>
  
  <view class="editor-body">
    <textarea class="content-textarea" value="{{content}}" bindinput="onContentInput" placeholder="è®°å½•ä»Šå¤©çš„å¿ƒæƒ…..." maxlength="5000" auto-height="{{true}}" show-confirm-bar="{{false}}" />
  </view>
  
  <view class="media-section" wx:if="{{images.length > 0}}">
    <view class="image-list">
      <view class="image-item" wx:for="{{images}}" wx:key="index">
        <image src="{{item}}" mode="aspectFill" bindtap="previewImage" data-index="{{index}}" />
        <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">Ã—</view>
      </view>
    </view>
  </view>
  
  <view class="editor-footer">
    <view class="tool-bar">
      <view class="tool-item" bindtap="addImage">
        <text class="iconfont icon-image">ğŸ–¼ï¸</text>
      </view>
      <view class="tool-item" bindtap="addLocation">
        <text class="iconfont icon-location">ğŸ“</text>
      </view>
      <view class="tool-item" bindtap="addVoice">
        <text class="iconfont icon-voice">ğŸ¤</text>
      </view>
    </view>
    <view class="action-bar">
      <button class="cancel-btn" bindtap="cancelEdit">å–æ¶ˆ</button>
      <button class="save-btn" bindtap="saveDiary">ä¿å­˜</button>
    </view>
  </view>
</view> 