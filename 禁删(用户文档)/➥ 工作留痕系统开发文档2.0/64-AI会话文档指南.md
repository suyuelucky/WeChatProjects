# 工作留痕系统 - AI会话文档指南

## 文档目的

本指南定义了在工作留痕系统开发过程中，每个AI开发会话需要创建的文档类型、内容要求和适用场景，旨在：

1. 确保知识有效传递与积累
2. 减少重复性问题与技术债
3. 提高开发效率，避免过度文档化
4. 为后续迭代提供清晰依据

## 文档分类与要求

### 1. 必备文档（所有功能单元）

#### 1.1 实现报告
- **适用场景**：每个功能单元开发完成后
- **内容要求**：
  - 功能单元ID和名称
  - 实现的核心功能点（3-5条）
  - 关键技术决策及理由
  - 验证结果摘要
  - 与其他功能单元的接口说明
- **格式建议**：简洁列表，不超过1页

#### 1.2 问题与解决方案记录
- **适用场景**：开发过程中遇到的问题
- **内容要求**：
  - 问题描述（具体错误信息或现象）
  - 问题原因分析
  - 解决方案
  - 预防措施（可选）
- **格式建议**：表格形式，便于查询

### 2. 按需创建文档（复杂功能单元）

#### 2.1 技术调研报告
- **适用场景**：使用新技术、复杂实现方案或平台限制较多的功能
- **触发条件**：
  - 首次使用某项微信小程序API
  - 需要解决明显的性能或兼容性问题
  - 涉及复杂的数据处理逻辑
- **内容要求**：
  - 调研目标
  - 可选方案对比（至少2种）
  - 最终方案及理由
  - 技术限制与规避措施
  - 参考资料链接
- **格式建议**：章节式，重点突出结论和限制

#### 2.2 知识传递清单
- **适用场景**：高度依赖其他功能单元或具有复杂内部逻辑的功能
- **触发条件**：
  - 功能单元有3个以上依赖
  - 实现逻辑需要特殊上下文才能理解
  - 包含非常规微信小程序开发模式
- **内容要求**：
  - 关键概念解释
  - 重要依赖关系图
  - 代码关键区域解释
  - 常见误解澄清
- **格式建议**：概念图+简短说明

#### 2.3 技术债务记录
- **适用场景**：因时间或技术限制导致的非最优实现
- **触发条件**：
  - 采用了临时解决方案
  - 已知存在性能或兼容性问题
  - 需要后续优化的代码区域
- **内容要求**：
  - 问题区域和文件位置
  - 当前实现的限制
  - 理想解决方案
  - 优先级评估
  - 预计工作量
- **格式建议**：表格形式，附优先级标记

## 文档模板

### 实现报告模板

```markdown
# 功能单元实现报告

## 基本信息
- **功能ID**：[如A1, B2等]
- **功能名称**：[功能名称]
- **开发日期**：YYYY-MM-DD
- **开发者**：[开发者]

## 实现内容
1. [核心功能点1]
2. [核心功能点2]
3. [核心功能点3]

## 关键决策
1. [决策点1]：[决策内容] - [理由]
2. [决策点2]：[决策内容] - [理由]

## 验证结果
- [验证项1]：[结果]
- [验证项2]：[结果]

## 接口说明
- **输入**：[参数说明]
- **输出**：[返回值说明]
- **依赖功能单元**：[依赖列表]
```

### 问题与解决方案记录模板

```markdown
# 问题与解决方案记录

| 问题ID | 日期 | 问题描述 | 原因分析 | 解决方案 | 预防措施 |
|--------|------|----------|----------|----------|----------|
| P001   |      |          |          |          |          |
| P002   |      |          |          |          |          |
```

## 文档管理规则

1. **存储位置**：所有文档统一存放在 `AI开发文档/[功能ID]` 目录下
2. **命名规范**：`[功能ID]-[文档类型]-[日期].md`，如 `A1-实现报告-20230520.md`
3. **更新机制**：
   - 实现报告一般不更新，新版本创建新文档
   - 问题记录持续在原文档追加
   - 技术债务记录在解决后标记状态

## 实际操作建议

1. **会话初始化**：每次AI开发会话开始时，明确本次需要创建的文档类型
2. **文档优先级**：先完成功能开发，再补充文档，避免过早文档化导致无效工作
3. **精简原则**：所有文档遵循"足够详细但不过度"原则，避免冗长
4. **实用导向**：每个文档创建后，问自己"这对下一位开发者有实质帮助吗？"

## 特别说明

1. 本指南不追求文档数量，而是强调文档质量和实用性
2. 根据实际情况可灵活调整文档要求，但必备文档不可省略
3. 微信小程序开发中特别注意记录平台限制和兼容性问题
4. 文档应该是开发的辅助工具，而非目的本身 